# Chunking Configuration
# Cấu hình cho module chunkers

chunking:
  # Default strategy: fixed_size, semantic, sliding_window, hierarchical
  strategy: "semantic"
  
  # Fixed size chunking configuration
  fixed_size:
    chunk_size: 512        # Số tokens/chars per chunk
    overlap: 50            # Số tokens/chars overlap giữa chunks
    unit: "chars"          # Unit: "tokens" hoặc "chars"
  
  # Semantic chunking configuration
  semantic:
    max_chunk_size: 800    # Kích thước tối đa per chunk (chars)
    min_chunk_size: 100    # Kích thước tối thiểu per chunk (chars)
    split_on: "sentence"   # Split level: "sentence", "paragraph", "section"
    preserve_structure: true  # Giữ nguyên cấu trúc document
  
  # Sliding window chunking configuration
  sliding_window:
    window_size: 512       # Kích thước cửa sổ (chars/tokens)
    stride: 256            # Bước nhảy (chars/tokens)
    unit: "chars"          # Unit: "tokens" hoặc "chars"
  
  # Hierarchical chunking configuration
  hierarchical:
    levels:                # Các level phân cấp
      - "section"
      - "paragraph"
      - "sentence"
    max_size_per_level:    # Kích thước max cho mỗi level
      - 2000               # section
      - 800                # paragraph
      - 200                # sentence
    preserve_hierarchy: true  # Giữ nguyên hierarchy info
  
  # Table handling configuration
  table:
    strategy: "separate"   # Strategy: "separate", "inline", "hybrid"
    max_rows_per_chunk: 50  # Số rows tối đa per chunk cho large tables
    include_caption: true   # Include table caption
    serialize_format: "markdown"  # Format: "markdown", "csv", "json"
  
  # General chunking settings
  general:
    min_chunk_size: 50     # Kích thước tối thiểu (chars)
    max_chunk_size: 2000   # Kích thước tối đa (chars)
    include_metadata: true  # Include metadata trong chunks
    generate_citations: true  # Generate citations
    preserve_whitespace: false  # Preserve whitespace formatting
    normalize_text: true    # Normalize text (remove extra spaces, etc.)

# Token counting configuration (optional)
tokenization:
  provider: "simple"       # Provider: "simple", "tiktoken", "transformers"
  model: null             # Model name for tiktoken or transformers
  encoding: "cl100k_base" # Encoding for tiktoken

# Embedding configuration (optional, for future use)
embedding:
  enabled: false          # Enable embedding generation
  model: null             # Embedding model name
  dimension: 1536         # Embedding dimension
